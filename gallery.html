<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ACHSOSA '93 SET GALLERY</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <section class="gallery-section">
    <h2 class="gallery-title">ACHSOSA '93 Gallery</h2>
    <div class="gallery-grid">
      <div class="gallery-item">
        <img src="https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/images/achsosa2.jpg" alt="Alumni Gathering" loading="lazy">
        <div class="caption">Alumni Gathering</div>
      </div>
      <div class="gallery-item">
        <img src="https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/images/achsosa3.jpg" alt="School Memories" loading="lazy">
        <div class="caption">School Memories</div>
      </div>
      <div class="gallery-item">
        <img src="https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/images/achsosa7.jpg" alt="Community Project" loading="lazy">
        <div class="caption">Community Project</div>
      </div>
      <div class="gallery-item">
        <img src="https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/images/achsosaazeez.jpg" alt="Reunion" loading="lazy">
        <div class="caption">Reunion</div>
      </div>
      <div class="gallery-item">
        <img src="https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/images/slide5.jpg" alt="ACHSOSA Family" loading="lazy">
        <div class="caption">ACHSOSA Family</div>
      </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
      <span class="close">&times;</span>
      <img class="lightbox-img" src="" alt="">
      <div class="lightbox-caption"></div>
      <a class="prev">&#10094;</a>
      <a class="next">&#10095;</a>
    </div>
  </section>

  <!-- Footer placeholder -->
  <div id="footer-container"></div>

  <style>
    /* === Gallery Grid Adjustment === */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    @media (max-width: 600px) {
      .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>

  <script>
    // Lightbox functionality
    const galleryItems = document.querySelectorAll('.gallery-item');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('.lightbox-img');
    const lightboxCaption = lightbox.querySelector('.lightbox-caption');
    const closeBtn = lightbox.querySelector('.close');
    const prevBtn = lightbox.querySelector('.prev');
    const nextBtn = lightbox.querySelector('.next');

    let currentIndex = 0;

    function showLightbox(index) {
      const item = galleryItems[index];
      lightboxImg.src = item.querySelector('img').src;
      lightboxCaption.textContent = item.querySelector('.caption').textContent;
      lightbox.style.display = 'flex';
      currentIndex = index;
    }

    galleryItems.forEach((item, index) => {
      item.addEventListener('click', () => showLightbox(index));
    });

    closeBtn.addEventListener('click', () => lightbox.style.display = 'none');

    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
      showLightbox(currentIndex);
    });

    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % galleryItems.length;
      showLightbox(currentIndex);
    });

    lightbox.addEventListener('click', e => {
      if (e.target === lightbox) lightbox.style.display = 'none';
    });

    // Dynamically load footer.html
    fetch('footer.html')
      .then(response => {
        if (!response.ok) throw new Error('Footer not found');
        return response.text();
      })
      .then(data => document.getElementById('footer-container').innerHTML = data)
      .catch(error => console.error('Error loading footer:', error));
  </script>
</body>
</html>
