<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ACHSOSA '93 SET GALLERY</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* Responsive Gallery */
    .gallery-section {
      padding: 20px;
      text-align: center;
    }
    .gallery-title {
      font-size: 24px;
      margin-bottom: 15px;
    }
    .gallery-grid {
      display: flex;
      overflow: hidden;
      position: relative;
      max-width: 100%;
    }
    .gallery-item {
      flex: 0 0 100%;
      transition: transform 0.5s ease-in-out;
      text-align: center;
    }
    .gallery-item img {
      width: 100%;
      height: auto;
      border-radius: 10px;
    }
    .caption {
      margin-top: 8px;
      font-size: 14px;
      font-weight: bold;
    }

    /* Arrows */
    .prev, .next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 12px;
      color: white;
      background: rgba(0,0,0,0.5);
      border-radius: 50%;
      font-size: 18px;
      user-select: none;
    }
    .prev { left: 10px; }
    .next { right: 10px; }
    @media(max-width: 768px) {
      .gallery-title { font-size: 20px; }
      .caption { font-size: 12px; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">
      <img src="images/logo.png" alt="ACHSOSA Logo" class="logo-img">
      ACHSOSA '93 SET <i class="fas fa-graduation-cap"></i>
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
    <nav id="navLinks">
      <a href="index.html">Home</a>
      <a href="#">About Us</a>
      <a href="#">Projects</a>
      <a href="#">Events</a>
      <a href="gallery.html">Gallery</a>
      <a href="alumni.html">Alumni Registration</a>
      <a href="#">Contact</a>
    </nav>
  </header>

  <!-- Gallery Section -->
  <section class="gallery-section">
    <h2 class="gallery-title">ACHSOSA '93 Gallery</h2>
    <div class="gallery-grid" id="galleryGrid"></div>
    <a class="prev" onclick="moveSlide(-1)">&#10094;</a>
    <a class="next" onclick="moveSlide(1)">&#10095;</a>
  </section>

  <!-- Footer -->
  <div id="footer-container"></div>

  <script src="footer.js"></script>
  <script>
    // ===== Navbar Toggle =====
    function toggleMenu() {
      document.getElementById("navLinks").classList.toggle("show");
    }

    // ===== Gallery JSON Loader =====
    let currentIndex = 0;
    let slides = [];
    let autoSlideInterval;

    async function loadGallery() {
      try {
        const response = await fetch("gallery.json");
        const data = await response.json();
        const galleryGrid = document.getElementById("galleryGrid");

        galleryGrid.innerHTML = data.map((item, index) => `
          <div class="gallery-item" style="transform: translateX(${index * 100}%);">
            <img src="${item.src}" alt="${item.alt}" loading="lazy">
            <div class="caption">${item.caption}</div>
          </div>
        `).join("");

        slides = document.querySelectorAll(".gallery-item");
        startAutoSlide();
      } catch (err) {
        console.error("Error loading gallery:", err);
      }
    }

    // ===== Slideshow Logic =====
    function moveSlide(step) {
      currentIndex = (currentIndex + step + slides.length) % slides.length;
      updateSlide();
      resetAutoSlide();
    }

    function updateSlide() {
      slides.forEach((slide, index) => {
        slide.style.transform = `translateX(${100 * (index - currentIndex)}%)`;
      });
    }

    function startAutoSlide() {
      autoSlideInterval = setInterval(() => moveSlide(1), 5000);
    }

    function resetAutoSlide() {
      clearInterval(autoSlideInterval);
      startAutoSlide();
    }

    // Load gallery on page load
    loadGallery();
  </script>
</body>
</html>
