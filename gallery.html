<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ACHSOSA '93 SET Gallery</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* Navbar default hidden on small screens */
#navLinks {
  display: none;
  flex-direction: column;
  background: #fff;
  position: absolute;
  top: 60px;
  right: 10px;
  padding: 10px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

/* Show when toggled */
#navLinks.show {
  display: flex;
}

/* Desktop view */
@media (min-width: 768px) {
  #navLinks {
    display: flex !important;
    position: static;
    flex-direction: row;
    box-shadow: none;
    background: transparent;
  }
  .menu-toggle {
    display: none;
  }
}
  /* Default hidden on mobile */
#navLinks {
  display: none;
  flex-direction: column;
  gap: 10px;
}

/* When toggled open */
#navLinks.show {
  display: flex;
}

/* Desktop view */
@media (min-width: 768px) {
  #navLinks {
    display: flex !important;
    flex-direction: row;
  }
  .menu-toggle {
    display: none;
  }
}
</style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">
      <img src="images/logo.png" alt="ACHSOSA Logo" class="logo-img">
      ACHSOSA '93 SET <i class="fas fa-graduation-cap"></i>
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">☰</div>
    <nav id="navLinks">
      <a href="index.html">Home</a>
      <a href="#">About Us</a>
      <a href="#">Projects</a>
      <a href="#">Events</a>
      <a href="gallery.html">Gallery</a>
      <a href="alumni.html">Alumni Registration</a>
      <a href="#">Contact</a>
    </nav>
  </header>

  <!-- Gallery Section -->
  <section class="gallery-section">
    <h2 class="gallery-title">ACHSOSA '93 Gallery</h2>
    <div class="gallery-grid" id="galleryGrid"></div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
      <span class="close">&times;</span>
      <img class="lightbox-img" src="" alt="">
      <div class="lightbox-caption"></div>
      <a class="prev">&#10094;</a>
      <a class="next">&#10095;</a>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-container"></div>

  <!-- Scripts -->
  <script src="script.js"></script>
  <script src="footer.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  let galleryImages = [];
  let currentIndex = 0;

  const galleryGrid = document.getElementById('galleryGrid');
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = lightbox.querySelector('.lightbox-img');
  const lightboxCaption = lightbox.querySelector('.lightbox-caption');
  const closeBtn = lightbox.querySelector('.close');
  const prevBtn = lightbox.querySelector('.prev');
  const nextBtn = lightbox.querySelector('.next');

  // ✅ Fetch JSON directly from GitHub
  fetch("https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/gallery.json", { cache: "no-store" })
    .then(response => {
      if (!response.ok) throw new Error("Network response was not ok");
      return response.json();
    })
    .then(data => {
      galleryImages = data;
      galleryGrid.innerHTML = ""; // clear grid

      data.forEach((img, i) => {
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.innerHTML = `
          <img src="${img.src}" alt="${img.alt}" loading="lazy">
          <div class="caption">${img.caption}</div>
        `;
        div.addEventListener('click', () => showLightbox(i));
        galleryGrid.appendChild(div);
      });
    })
    .catch(err => console.error("Error loading gallery.json:", err));

  function showLightbox(index) {
    currentIndex = index;
    const img = galleryImages[index];
    lightboxImg.src = img.src;
    lightboxImg.alt = img.alt;
    lightboxCaption.textContent = img.caption;
    lightbox.style.display = 'flex';
  }

  function closeLightbox() { lightbox.style.display = 'none'; }
  closeBtn.addEventListener('click', closeLightbox);
  lightbox.addEventListener('click', e => { if(e.target===lightbox) closeLightbox(); });

  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
    showLightbox(currentIndex);
  });

  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % galleryImages.length;
    showLightbox(currentIndex);
  });
});
</script>

  
  <!--<script>
    let galleryImages = [];
    let currentIndex = 0;

    const galleryGrid = document.getElementById('galleryGrid');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('.lightbox-img');
    const lightboxCaption = lightbox.querySelector('.lightbox-caption');
    const closeBtn = lightbox.querySelector('.close');
    const prevBtn = lightbox.querySelector('.prev');
    const nextBtn = lightbox.querySelector('.next');

    // Fetch gallery.json from GitHub raw URL
    async function loadGallery() {
      try {
        const response = await fetch('https://raw.githubusercontent.com/slide-t/achsosa-93alumni/main/gallery.json', { cache: 'no-store' });
        galleryImages = await response.json();

        galleryImages.forEach((img, i) => {
          const div = document.createElement('div');
          div.className = 'gallery-item';
          div.innerHTML = `
            <img src="${img.src}" alt="${img.alt}" loading="lazy">
            <div class="caption">${img.caption}</div>
          `;
          galleryGrid.appendChild(div);
          div.addEventListener('click', () => showLightbox(i));
        });
      } catch (err) {
        console.error("Error loading gallery.json", err);
      }
    }

    function showLightbox(index) {
      currentIndex = index;
      const img = galleryImages[index];
      lightboxImg.src = img.src;
      lightboxImg.alt = img.alt;
      lightboxCaption.textContent = img.caption;
      lightbox.style.display = 'flex';
    }

    function closeLightbox() { lightbox.style.display = 'none'; }
    closeBtn.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', e => { if(e.target===lightbox) closeLightbox(); });

    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
      showLightbox(currentIndex);
    });

    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % galleryImages.length;
      showLightbox(currentIndex);
    });

    // Auto-slide inside lightbox every 5s
    setInterval(() => {
      if (galleryImages.length > 0 && lightbox.style.display === 'flex') {
        currentIndex = (currentIndex + 1) % galleryImages.length;
        showLightbox(currentIndex);
      }
    }, 5000);

    // Load footer
    async function loadFooter() {
      const res = await fetch('footer.html', { cache: 'no-store' });
      document.getElementById('footer-container').innerHTML = await res.text();
    }

    loadGallery();
    loadFooter();
  </script>-->
</body>
</html>
